let pokemonRepository=function(){let e=[],t=document.querySelector("#modal-container");function n(t){"object"==typeof t&&"name"in t?e.push(t):console.log("pokemon is not correct")}function o(){return e}function i(){t.classList.remove("is-visible")}function r(e){let t=document.querySelector(".pokemon-list"),n=document.createElement("li");n.classList.add("list-group-item");let o=document.createElement("button");o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#exampleModalCenter"),o.innerText=e.name,o.classList.add("btn"),n.appendChild(o),t.appendChild(n),o.addEventListener("click",function(){e.detailsUrl?s(e):console.error("Details URL not found for",e.name)})}function l(e){return fetch(e).then(function(e){if(!e.ok)throw Error("Network response not OK");return e.json()}).then(function(t){if(console.log("Pokemon Details",t),!t.sprites||!t.sprites.front_default)return console.error("Sprites not found",t.name),null;n({name:t.name,detailsUrl:e,imageUrl:t.sprites.front_default,height:t.height,types:t.types})}).catch(function(e){console.error("Error fetching details",e)})}function s(e){var n,o,i;let r,l,s;n=e.name,o=`Height: ${e.height}`,i=e.imageUrl,(r=document.querySelector("#exampleModalCenter .modal-title")).innerHTML="",r.innerText=n,(l=document.querySelector("#exampleModalCenter .modal-body")).innerHTML="",l.innerText=o,(s=document.createElement("img")).src=i,s.classList.add("img-fluid"),l.appendChild(s),t.classList.add("is-visible")}return window.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("is-visible")&&i()}),t.addEventListener("click",e=>{e.target===t&&i()}),{add:n,getAll:o,addListItem:r,loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){if(!e.ok)throw Error("Network response not OK");return e.json()}).then(function(e){return console.log("API Response",e),Promise.all(e.results.map(function(e){return l(e.url)}))}).then(function(){console.log("All details loaded successfully"),pokemonRepository.getAll().forEach(function(e){e&&r(e)})}).catch(function(e){console.error("Error fetching data:",e)})},loadDetails:l,showDetails:s}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});